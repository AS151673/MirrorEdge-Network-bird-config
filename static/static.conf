# The following are examples, please modify them to suit your needs

# protocol static all_region{
#     route 2a12:3fc2:e600::/44 reject; # Anycast
#     ipv6 {
#         import filter {
#             bgp_large_community.add((MY_COMMUNITY, 1019, 0)); # announce to all locations
#             ebgp_import(LOCAL_ASN , "downstream", 0, prefix_all_v6 , [0]);
#             bgp_large_community.add((MY_COMMUNITY, 101, 0)); # keep local_perf
#             accept;
#         };
#         export none;
#     };
# }

# protocol static only_this_region{
#     route  2a12:3fc2:e624::/46 reject; # Taiwan Region Network
#     ipv6 {
#         import filter {
#             ebgp_import(LOCAL_ASN , "downstream", 0, prefix_all_v6 , [0]);
#             bgp_large_community.add((MY_COMMUNITY, 101, 0));    # keep local_perf
#             accept;
#         };
#         export none;
#     };
# }

# protocol static only_this_county{
#     route  2a12:3fc2:e624::/46 reject; # Taiwan Region Network
#     ipv6 {
#         import filter {
#             bgp_large_community.add((MY_COMMUNITY, 1020, 0));  # do not announce to every county
#             bgp_large_community.add((MY_COMMUNITY, 1021, 158)); # but announce to Taiwan
#             ebgp_import(LOCAL_ASN , "downstream", 0, prefix_all_v6 , [0]);
#             bgp_large_community.add((MY_COMMUNITY, 101, 0));    # keep local_perf
#             accept;
#         };
#         export none;
#     };
# }

# protocol static only_internal{
#     route  2a12:3fc2:e626::/48 reject; # TPE2
#     ipv6 {
#         import filter {
#             ebgp_import(LOCAL_ASN , "downstream", 0, prefix_all_v6 , [0]);
#             bgp_large_community.add((MY_COMMUNITY, 2, 0)); # do not send to ebgp
#             bgp_large_community.add((MY_COMMUNITY, 101, 0)); # keep local_perf
#             accept;
#         };
#         export none;
#     };
# }

# protocol static only_this_node{
#     route  2a12:3fc2:e627::/48 reject; # TPE2
#     ipv6 {
#         import filter {
#             ebgp_import(LOCAL_ASN , "downstream", 0, prefix_all_v6 , [0]);
#             bgp_large_community.add((MY_COMMUNITY, 1, 0)); # do not send to ibgp
#             accept;
#         };
#         export none;
#     };
# }

# no210-214 example
# table no210;
# protocol pipe import_no_210 {
# table master;
# peer table no210;
#  import filter {
#      if ((MY_COMMUNITY, 210, 0) ~ bgp_large_community) then reject else accept;
#   };
#  export all;
# }
# protocol kernel kern_optimized {
#     scan time 20;
#     ipv4 {
#         table no210;
#         kernel table 10;             # 映射到内核表10
#         learn off;                   # bu学习路由
#         import none;                 # 不从内核导入
#         export filter {
#             if bgp_large_community ~ [(MY_COMMUNITY, 3, *)] then reject;                  # (asn, 3,*) 不发送
#             if bgp_large_community ~ [(MY_COMMUNITY, 4, *)] then dest = RTD_UNREACHABLE;  # (asn, 4,*) unreachable
#             if bgp_large_community ~ [(MY_COMMUNITY, 5, *)] then dest = RTD_BLACKHOLE;    # (asn, 5,*) blackhole
#         };
#     };
#     ipv6 {
#         table no210;
#         kernel table 10;             # 映射到内核表10
#         learn off;                   # bu学习路由
#         import none;                 # 不从内核导入
#         export filter {
#             if bgp_large_community ~ [(MY_COMMUNITY, 3, *)] then reject;                  # (asn, 3,*) 不发送
#             if bgp_large_community ~ [(MY_COMMUNITY, 4, *)] then dest = RTD_UNREACHABLE;  # (asn, 4,*) unreachable
#             if bgp_large_community ~ [(MY_COMMUNITY, 5, *)] then dest = RTD_BLACKHOLE;    # (asn, 5,*) blackhole
#         };
#     };
# }      